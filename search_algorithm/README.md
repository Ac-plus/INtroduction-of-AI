# 启发式搜索——A算法求解八数码问题

## 一、实验内容

本次实验要求使用A算法求解八数码问题。八数码问题是：给定一个3*3的棋盘，摆有八个棋子，每个棋子上标有1至8的某一数字，不同棋子上标的数字不相同。棋盘上还有一个空格，与空格相邻的棋子可以移到空格中。

要求解决的问题是：给出一个初始状态和一个目标状态，找出一种从初始转变成目标状态的移动棋子步数最少的移动步骤。

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/bc51481b-ff39-4f8d-9c66-d76a3ff35f5e)

## 二、实验原理与步骤
### 2.1 实验原理
A\*算法是一种启发式图搜索算法，其特点在于对估价函数的定义上。

对于一般的启发式图搜索，总是选择估价函数 $f(n)$ 值最小的节点作为扩展节点。

因此， $f(n)$ 是根据需要找到一条最小代价路径的观点来估算节点的，所以，可考虑每个节点 $n$ 的估价函数值为两个分量：从起始节点到节点 $n$ 的实际代价 $g(n)$ 以及从节点 $n$ 到达目标节点的估价代价 $h(n)$ ，且 $h(n)≤h^{\*}(n)$ ， $h^\*(n)$ 为 $n$ 节点到目的结点的最优路径的代价。

### 2.2 实验步骤
#### 2.2.1 实验环境配置
（1）实验环境：Windows10+MinGW32

（2）程序语言：C++

（3）编译系统：g++ 6.3.0

#### 2.2.2 算法设计
针对问题的需求，画出如图2所示的程序流程图。
![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/c85e8dbe-36dd-4cbf-a8bd-00cfb4347764)

本算法中，每次向外扩展一个节点，而扩展结点的估价函数是路径选择的关键。选择了3种估价函数：（1）h(n)=0，即宽度优先搜索；（2）h(n)等于取一棋局与目标棋局相比，其位置不符的数码数目；（3）h(n)等于各数码移到目标位置所需移动的距离的总和。利用这3个估价函数分别运行程序，并分别对比它们对8数码问题求解的性能。
根据图2编写完整的求解程序。其中OPEN表保存所有已生成而未访问的节点，CLOSED表中记录已访问过的节点。在扩展结点时，还需要考虑两个表即OPEN表和CLOSED表中是否存在了该节点的后继节点。

#### 2.2.3 实验操作步骤
根据以上2.2.1和2.2.2两部分的描述，本实验的具体步骤如下：

（1）配置实验环境；

（2）分析问题需求；

（3）设计八数码问题的A算法，画出流程图，分析伪代码；

（4）根据流程图编写完整程序；

（5）分析实验结果，对比性能。

## 三、实验结果及分析
### 3.1 使用估价函数（1）——宽度优先搜索
令h(n)=0，得到如下结果，如图3所示。其中图3(a)是部分中间结果展示，图3(b)是最终的最优路径、扩展结点等信息的展示。
![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/0481406b-1f6e-4826-bc27-17de967f7a83)

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/e2888eda-4da7-4292-90dd-3b97cb717529)

### 3.2 使用估价函数（2）
使用2.2.2中的估价函数（2），得到如下结果，如图4所示。其中图4(a)是部分中间结果展示，图4(b)是最终的最优路径、扩展结点等信息的展示。

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/4f19948e-d4ce-4e88-96c9-544227562748)

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/db36a90c-9552-4459-891d-cdac52a3d62b)

### 3.3 使用估价函数（3）
使用2.2.2中的估价函数（3），得到如下结果，如图5所示。其中图5(a)是部分中间结果展示，图5(b)是最终的最优路径、扩展结点等信息的展示。

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/aa63bd1b-1fb3-4bd5-ba42-ade14cc8a5c8)


![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/e3c48977-89d8-409f-a110-99be22cb841e)

### 3.4 结果分析
由上面的3种结果总结，所得到的测试结果如下表1所示。其中估价函数为1的一组为宽度优先搜索。

![image](https://github.com/Ac-plus/INtroduction-of-AI/assets/104805387/f526b17c-b2d1-413a-af90-6635cbc97ed3)

对以上数据的分析如下：

（1）使用宽度优先搜索，即不使用启发信息所运行的程序时间最慢。这是因为每次扩展都需要打开全部节点，选取f(n)最小的，即和源节点距离最小的一个节点，所以该方案较为盲目，所耗费的时间也更长。

（2）比较上述三个估价函数的方案，可知估价函数3所消耗的资源最少，从而运行时间最短，效率也更高。所以对于八数码问题，估价方案3更适合被使用。

（3）横向对比表1中的数据，发现运行时间和生成的总结点数大致呈正比。这是因为本程序的主要步骤就在于利用f(n)对每步的下一个状态节点进行扩展，这和那部分代码运行的时间成正比。而运行总时间和节点数之所以不严格正比是因为程序还有初始化、输入输出等其他步骤。

（4）本实验的不足之处在于，只选用了一种初状态进行8数码求解，从而导致可能出现的其他情况没有更广泛地被涉及。这也是这次实验可以适当改进的地方。










































































